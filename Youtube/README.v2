On your desktop:
cp -a ~/.mozilla/firefox/*/cookies.sqlite /tmp; (echo -en '# Netscape HTTP Cookie File\n# This file is generated by youtube-dl.  Do not edit.\n\n'; echo -en ".mode tabs\n.header off\nselect host, case substr(host,1,1)='.' when 0 then 'FALSE' else 'TRUE' end,     path, case isSecure when 0 then 'FALSE' else 'TRUE' end, expiry, name, value from moz_cookies;\n.quit\n" | sqlite3 /tmp/cookies.sqlite) >/mnt/nfs/hd/tmp/youtube-test/cookies.txt; rm /tmp/cookies.sqlite

On PinkLap:
echo "#############"; sort -u error_urls ; rm error_urls; echo "======================"; ls -l *.part; rm *.part; echo "#################"; echo "Type in Youtube URLs to be downloaded. CTRL-C when done -- if you remove &index=... from URLs, the full playlist will be downloaded."; HD_QUALITY="b"; FULLHD_QUALITY="'bestvideo[ext=mp4]+bestaudio[ext=m4a]/bestvideo+bestaudio' --merge-output-format mp4"; QUALITY="${HD_QUALITY}"; while read u; do u=`echo "$u" | sed 's|&list=.*&index=.*||'`; echo "Downloading $u..."; date; yt-dlp --yes-playlist --ignore-errors -f ${QUALITY} --cookies cookies.txt --mark-watched "$u" || echo "$u" >>error_urls; date; done

On rPi:
pkill fbi; while true; do f="`ls -1rt *.{mp4,ogv,MP4,OGV,mkv} 2>/dev/null | head -n 1`"; dd if="$f" of=/dev/null bs=$((4096*4096)) status=progress count=1; tail -n 200 "$f" &>/dev/null; omxplayer.bin -I -s --nativedeinterlace -y -r -o local --hw --timeout 300 --audio_queue 8 --video_queue 80 --audio_fifo 30 --video_fifo 10 --threshold 1 "$f"; for b in 1 0; do echo $b >/sys/class/vtconsole/vtcon1/bind; done; /usr/bin/fbset -g 1366 768 1366 768 16; fbi -autozoom -fitwidth -noverbose -t 5 -1 --vt 1 /root/wallpaper.jpg &>/dev/null; echo -en "FIM DO VIDEO. Pressione m para mantê-lo, r para repetí-lo, d para desligar a tela ou CTRL-D para apagá-lo: "; read o; if [ "m" == "$o" ]; then echo "Mantendo $f..."; mv "$f" kept; elif [ "r" == "$o" ]; then echo "Repetindo $f..."; continue; elif [ "d" == "$o" ]; then echo "Desligando a tela. Pressione ENTER para religá-la e repetir o vídeo"; tvservice -o; read; tvservice -p; continue; else echo "Apagando $f..."; rm "$f"; fi; done

# OLD -- doesn't properly protects against NFS hanging when OMXPlayer starts
#pkill fbi; while true; do f="`ls -1rt *.{mp4,ogv,MP4,OGV} 2>/dev/null | head -n 1`"; c='dd if="$f" of=/dev/null bs=$((4096*4096)) count=10 status=progress &'; omxplayer.bin -I -s --nativedeinterlace -y -r -o local --hw --timeout 300 --audio_queue 8 --video_queue 80 --audio_fifo 30 --video_fifo 10 --threshold 1 "$f"; for b in 1 0; do echo $b >/sys/class/vtconsole/vtcon1/bind; done; /usr/bin/fbset -g 1366 768 1366 768 16; fbi -autozoom -fitwidth -noverbose -t 5 -1 --vt 1 /root/wallpaper.jpg &>/dev/null; echo -en "FIM DO VIDEO. Pressione m para mantê-lo, r para repetí-lo, d para desligar a tela ou CTRL-D para apagá-lo: "; read o; if [ "m" == "$o" ]; then echo "Mantendo $f..."; mv "$f" kept; elif [ "r" == "$o" ]; then echo "Repetindo $f..."; continue; elif [ "d" == "$o" ]; then echo "Desligando a tela. Pressione ENTER para religá-la e repetir o vídeo"; tvservice -o; read; tvservice -p; continue; else echo "Apagando $f..."; rm "$f"; fi; done

# OLD On PinkLap:
echo "Type in Youtube URLs to be downloaded. CTRL-C when done -- if you remove &index=... from URLs, the full playlist will be downloaded."; HD_QUALITY="b"; FULLHD_QUALITY="'bestvideo[ext=mp4]+bestaudio[ext=m4a]/bestvideo+bestaudio' --merge-output-format mp4"; QUALITY="${HD_QUALITY}"; while read u; do u=`echo "$u" | sed 's|&list=.*&index=.*||'`; echo "Downloading $u..."; date; yt-dlp --yes-playlist --ignore-errors -f ${QUALITY} --cookies cookies.txt --mark-watched "$u" || echo "$u" >>error_urls; date; done
echo "Type in Youtube URLs to be downloaded. CTRL-C when done -- if you remove &index=... from URLs, the full playlist will be downloaded."; HD_QUALITY="best"; FULLHD_QUALITY="'bestvideo[ext=mp4]+bestaudio[ext=m4a]/bestvideo+bestaudio' --merge-output-format mp4"; QUALITY="${HD_QUALITY}"; while read u; do u=`echo "$u" | sed 's|&list=.*&index=.*||'`; echo "Downloading $u..."; date; youtube-dl --yes-playlist --ignore-errors -f ${QUALITY} --cookies cookies.txt --mark-watched "$u"; date; done

# BONUS
#######
# watch TV!
COMBATE='http://srv.vitrizamper.com:80/21979399780carolina/vfdkvg652/56'; COMBATE2='http://srv.vitrizamper.com:80/21979399780carolina/vfdkvg652/81830'; BAND='http://srv.vitrizamper.com:80/21979399780carolina/vfdkvg652/81594'; ID='http://srv.vitrizamper.com:80/21979399780carolina/vfdkvg652/73'; SPORTV1='http://srv.vitrizamper.com:80/21979399780carolina/vfdkvg652/1100'; SPORTV2='http://srv.vitrizamper.com:80/21979399780carolina/vfdkvg652/1101'; SPORTV3='http://srv.vitrizamper.com:80/21979399780carolina/vfdkvg652/1102'; pkill fbi; while sleep 2; do omxplayer.bin -I -s --nativedeinterlace -y -r -o local --hw --timeout 300 --audio_queue 8 --video_queue 80 --audio_fifo 30 --video_fifo 10 --threshold 1 "${SPORTV1}"; done
